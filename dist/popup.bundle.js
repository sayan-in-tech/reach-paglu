(()=>{async function e(){const[e]=await chrome.tabs.query({active:!0,currentWindow:!0}),t=e.url.match(/https:\/\/x\.com\/([^\/]+)/);return t?t[1]:null}async function t(){const t=await e();t?(document.getElementById("username").textContent=t,chrome.runtime.sendMessage({type:"GET_REPUTATION",username:t},(e=>{document.getElementById("reportCount").textContent=e.reputation||0}))):document.getElementById("profileInfo").innerHTML="<p>Not a profile page.</p>"}document.getElementById("reportButton").addEventListener("click",(async()=>{const n=await e();n&&chrome.runtime.sendMessage({type:"REPORT_USER",target:n},(e=>{e.success&&t()}))})),t()})();